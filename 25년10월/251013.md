# 251013 TIL



- RestTemplate에서는 Delete Method를 사용할 시에 Body에 값을 담을 수 없다.
  - RestTemplate은 내부적으로 HttpEntity나 requestBody를 포함할 수 없다.







- POST/PUT 계열: `HttpEntityRequestCallback` 사용
   → 헤더(`Content-Type`, `Accept`) 세팅 + `HttpMessageConverter`로 body write.
- DELETE: `RequestCallback`을 **null**로 넘김
   → **본문 작성 로직 자체를 타지 않음**, 따라서 `Content-Type`도 자동 설정 안 함.

-  Post 메서드에서는 RequestCallBack인자를 포함하지만

![image-20251013153815794](D:\Typora\images\image-20251013153815794.png)

- Delete메서드에서는 RequestCallBack을 포함하지 않느다. 

![image-20251013153825967](D:\Typora\images\image-20251013153825967.png)

- doExecute내부의 requestCallBack.doWithRequest내부에서 
  - HttpHeaders와 HttpEntity를 생성하는 것을 볼 수 있다. 

![image-20251013153921061](D:\Typora\images\image-20251013153921061.png)

![image-20251013154005283](D:\Typora\images\image-20251013154005283.png)



즉 delete 메서드의 경우 callBack 자체가 null로 들어가므로 Write를 할 수 없다.



RFC Spec상 Delete 메서드에 대해서 Request의 Body에 무엇을 담을 수 있는지는 명확히 정해지지는 않았다. 



그러나, 아래의 exchange메서드를 사용하면 변환 가능





참고

https://chatgpt.com/g/g-p-68b8e408b9bc81919a94f6cae7dbc8a4-baegendeu/c/68ec9791-1390-8320-a78c-dee03b4f9245

https://www.baeldung.com/java-http-delete-request-body



---



### Nginx와 폐쇄망





---

### Ndjson 포맷







