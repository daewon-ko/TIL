# 251204



동시성

- CAS연산
  - Lock 매커니즘과 달리 구체적으로 언제 사용되어야 하는가?
- Volatile
- 자바의 Lock알고리즘은 모두 Mutex다?
  - 상호배제이기 때문에?
- Lock()
  - Synchronized
    - Monitor Lock
  - ReentrantLock
- Semaphore





---





- Aspect, Pointcut, JoinPoint
- Cglib, Dynamic Proxy, aspectj
  - boot에서는 cglib이 Default
  - aspectj는 AOP를 자바에서 사용하기 위한 구현체

- Weaving
  - 모듈화한 '부가기능'을 '타겟'에 적용해 핵심기능과 연결하는 과정
  - RTW, CTW, LTW
  - Runtime Weaving
    - 프록시 객체를 활용한 위빙 방식
    - Proxy 객체를 생성해 실제 타깃 오브젝트의 변형없이 런타임 중 메서드 호출이 일어나는 시점에 위빙 수행
    - 메서드 호출에 대해서만 Advice를 적용가능
  - Compie Time Weaving
    - AspectJ의 AJC 컴파일러가 예시
      - CF)해당 컴파일러는 롬복과 같이 컴파일 과정에서 코드를 조작하는 플러그인과 충돌이 가능할 수도 있다고 함.	
  - Load Time Weaving
    - 클래스가 JVM에 로드될때 바이트 코드 조작을 통해 위빙
    - 컴파일 시간은 CTW보다 짧지만, 오브젝트가 메모리에 올라가는 과정에서 위빙이 발생
    - 따라서 런타임은 CTW보다는 느리다고함



- Dynamic Proxy

  - Interface기반 프록시생성
  - Java.lang.reflect.Proxy 클래스
    - newProxyInstance() 메서드 활용하여 프록시 객체 생성

- CGLIB 

  - Spring Boot의 기본 방식이며 JPA Hibernate의 기본 방식
- 인터페이스가 아닌 클래스 기반으로 바이트코드를 조작하여 프록시를 생성
  
  - 'ASM'이라는 바이트코드 조작 및 분석 프레임워크 사용
  
    - 클래스를 동적으로 생성하거나 수정함
      - DynamicProxy에 비해 성능이 우수하지만, Extends 방식을 이용하므로 
        Proxy화할 메서드를 오버라이드하므로 final, private메서드 등과 같이 Override할 수 없는 경우에 Proxy에서 해당 메서드에 대한 Aspect 적용불가
  
  
  

